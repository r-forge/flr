\name{FLSAM}
\alias{FLSAM}
\alias{FLR2SAM}
\alias{SAM2FLR}
\title{FLR Wrapper for the State-space assessment model (FLSAM)
%%  ~~function to do ... ~~
}
\description{
 Performs a stock assessment using the State-Space assessment model (SAM)
}
\usage{
FLSAM(stck, tun, ctrl, run.dir=tempdir(), batch.mode=FALSE) 

FLR2SAM(stck, tun, ctrl, run.dir = tempdir())
SAM2FLR(ctrl, run.dir = tempdir()) 
}
\arguments{
  \item{stck}{FLStock object containing all data to be used in the assessment
}
  \item{tun}{FLIndices object containing survey/tuning indices
}
  \item{ctrl}{FLSAM.control object containing the parameters to be employed in the assessment 
}
  \item{run.dir}{Path to which the temporary files are to be written to or read from. Default is the R temporary directory provided by tempdir()
}
  \item{batch.mode}{Logical variable indicating whether the code should be run in batch mode.
}
}
\details{
FLSAM is an FLR wrapper to SAM, the state-space assessment model. SAM is written in the compiled ADMB language - compiled executables for each platform are included within the FLSAM package. The FLSAM function provides the interface between the data (FLStock, FLIndices objects) and configuration objects (FLSAM.control) stored natively in R, and the compiled exectable. 

Two helper functions provide the core of the FLSAM method. FLR2SAM accepts the necessary data objects and writes a series of text files to the path specified by run.dir. SAM2FLR reads the outputs generated by the SAM model and reads them back into the FLR environment. The FLSAM function provides a wrapper around these two functions, writing the data to the temporary directory, running the (appropriate) executable, and reading the results back. Generally, the user should not need to use FLR2SAM and SAM2FLR, but they can be useful in helping to debug the code. 
 
}
\value{
SAM2FLR and FLSAM both return an object of class FLSAM containing the results of the assessment. Please refer to the documentation on that class for further details. FLR2SAM does not return any values.
}
\references{
Nielsen et al (2012) In prep.
}
\author{
Mark R. Payne, Anders Nielsen
}
\note{
%%  ~~further notes~~
}

%% ~Make other sections like Warning with \section{Warning }{....} ~

\seealso{
FLSAM.control, FLSAM-class
}
\examples{

#Load library
library(FLSAM)
#Prepare data objects
data(NSH)
data(NSH.sam)
#Perform assessment
sam <- FLSAM(NSH,NSH.tun,NSH.ctrl)
#View results
plot(sam)

}
% Add one or more standard keywords, see file 'KEYWORDS' in the
% R documentation directory.
\keyword{ ~kwd1 }
\keyword{ ~kwd2 }% __ONLY ONE__ keyword per line
